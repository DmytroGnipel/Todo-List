(()=>{"use strict";const e={},t=(e,t,n,o,c,a)=>({title:e,date:t,description:n,notes:o,isComplete:c,priority:a}),n=(e,t)=>{t.push(e)},o=(t,n)=>{e[n].splice(t,1)},c=t=>{const n=t[0];return t.splice(0,1),e[n]=t,e};c(["UntilNewYear",{title:"Losing weight",date:"16.11.2023",description:"in order to have better look on my birthday I want to lose 5 kg until its date",notes:"I want to lose wheigt by restrictings in my diet and conducting active excersises",isComplete:!1,priority:"red"},{title:"Learning songs",date:"31.12.2023",description:'I want to perform at the New year"s party and because of that I have to learn at least 5 new songs',notes:"My favorite girl Sara very romatic, so I want learn Ed Sheerans songs about love",isComplete:!1,priority:"yellow"},{title:"Complete Todo List",date:"15.09.2023",description:"This project from from theodinproject.com is a part of my long javascript journey",notes:"Day when I should finalize the project may be postponed. It depends on circumstances",isComplete:!1,priority:"green"}]);const a=(t,n,o)=>{e[t][n]=o};function r(){!function(){const e=document.querySelectorAll(".content div");for(const t of e)t.remove()}();const t=document.querySelector(".content");for(const n in e){const o=document.createElement("div");o.dataset.projectName=n,o.classList.add("projectDiv"),o.innerHTML=`<h4>${n}</h4>`;let c=-1;for(const t of e[n])o.innerHTML+=`\n            <p>${t.title} until ${t.date}\n            <button data-number='${c+1}' data-name='${n}' class='editButton'>ed</button></p> \n            <button data-number='${c+1}' data-name='${n}' class='removeButton'>X</button></p>\n            `,c++;t.appendChild(o);const a=document.createElement("button");a.textContent="Add todo to the project",a.classList.add("addTodoButton"),a.dataset.projectName=n,o.insertAdjacentElement("beforeend",a)}}function s(){const e=document.querySelectorAll(".removeButton");for(const t of e)t.addEventListener("click",(function(){o(this.dataset.number,this.dataset.name),u()}))}function i(){const o=document.querySelectorAll(".addTodoButton");for(let c of o)c.addEventListener("click",(function(){console.log(e),this.dataset.projectName,this.remove(),d(6);let o=["title","date","description","notes","completeness","priority"];const a=document.querySelectorAll("input");for(let e=0;e<6;e++)a[e].placeholder=`${o[e]}`;document.querySelector(".popUp button").addEventListener("click",(function(){for(const e of a)e.value||(e.value="");let o=t(a[0].value,a[1].value,a[2].value,a[3].value,a[4].value,a[5].value);console.log(o),n(o,e[c.dataset.projectName]),u()}))}))}function l(){const n=document.querySelectorAll(".editButton");for(const o of n)o.addEventListener("click",(function(){d(6);const n=document.getElementsByTagName("input"),c=document.querySelectorAll(".popUp p"),r=e[o.dataset.name][o.dataset.number];let s=0;for(const e in r)c[s].textContent=e,n[s].value=r[e],s++;document.querySelector(".popUp button").addEventListener("click",(function(){let e=t(n[0].value,n[1].value,n[2].value,n[3].value,n[4].value,n[5].value);a(o.dataset.name,o.dataset.number,e),u()}))}))}function d(e){const t=document.createElement("div");t.classList.add("popUp");const n=document.querySelector(".content"),o=document.createElement("button");o.textContent="accept";const c=document.createElement("a");c.href="",c.textContent="X",c.classList.add="closeLink",c.addEventListener("click",(function(){t.remove()})),t.append(c);for(let n=0;n<e;n++){const e=document.createElement("p"),n=document.createElement("input");t.append(e,n)}t.append(o),n.appendChild(t)}function u(){r(),s(),l(),i()}r(),s(),document.querySelector(".addProjectLink").addEventListener("click",(function(){d(1);const t=document.querySelector("input");t.placeholder="enter a name of the new project",document.querySelector(".popUp button").addEventListener("click",(function(){if(t.value){let n=(e=>{const t=[];return t[0]=e,t})(t.value);c(n),console.log(e),u()}else alert("Your project must to have a name")}))})),i(),l()})();